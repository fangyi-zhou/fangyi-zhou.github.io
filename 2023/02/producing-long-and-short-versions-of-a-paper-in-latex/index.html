<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Producing long and short versions of a paper in LaTeX - Fangyi Zhou</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Conferences have different submission requirements for papers.
Submissions are usually subject to a page limit, but supplementary materials
(or appendices) are permitted.
Here is a guide to produce various versions of a paper in LaTeX.
Short and Long Versions
The easiest way is probably to produce a short version that satisfies the page
limit,
and a long version containing omitted details (usually in an appendix).
This way has the benefit that one can simply read the long version, as it
usually contains the short version in its entirely."><meta property="og:image" content="https://fangyi.io/"><meta property="og:url" content="https://fangyi.io/2023/02/producing-long-and-short-versions-of-a-paper-in-latex/"><meta property="og:site_name" content="Fangyi Zhou"><meta property="og:title" content="Producing long and short versions of a paper in LaTeX"><meta property="og:description" content="Conferences have different submission requirements for papers. Submissions are usually subject to a page limit, but supplementary materials (or appendices) are permitted. Here is a guide to produce various versions of a paper in LaTeX.
Short and Long Versions The easiest way is probably to produce a short version that satisfies the page limit, and a long version containing omitted details (usually in an appendix). This way has the benefit that one can simply read the long version, as it usually contains the short version in its entirely."><meta property="og:locale" content="en_gb"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-02-27T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-27T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Producing long and short versions of a paper in LaTeX"><meta name=twitter:description content="Conferences have different submission requirements for papers. Submissions are usually subject to a page limit, but supplementary materials (or appendices) are permitted. Here is a guide to produce various versions of a paper in LaTeX.
Short and Long Versions The easiest way is probably to produce a short version that satisfies the page limit, and a long version containing omitted details (usually in an appendix). This way has the benefit that one can simply read the long version, as it usually contains the short version in its entirely."><link href=https://fangyi.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://fangyi.io/css/main.a87126a5d38398207e58225b2d1a9faf97f546982f44b3ffb9715a264da36c90.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://fangyi.io/css/dark.f163b79c6de51d14a766ff9f0563053de7f06a4d1bf7b85a59608bf96e566710.css media="(prefers-color-scheme: dark)"><link rel=stylesheet href=https://fangyi.io/katex/katex.min.css><script defer src=https://fangyi.io/katex/katex.min.js></script><script defer src=https://fangyi.io/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script></head><body><div class=content><header><div class=main><a href=https://fangyi.io/>Fangyi Zhou</a></div><nav><a href=/>Home</a>
<a href=/post>Posts</a>
<a href=/publication>Publications</a>
<a href=/talks>Talks</a>
<a href=/about>About</a></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>Producing long and short versions of a paper in LaTeX</h1><div class=meta>Posted on Feb 27, 2023</div></div><section class=body><p>Conferences have different submission requirements for papers.
Submissions are usually subject to a page limit, but supplementary materials
(or appendices) are permitted.
Here is a guide to produce various versions of a paper in LaTeX.</p><h2 id=short-and-long-versions>Short and Long Versions</h2><p>The easiest way is probably to produce a short version that satisfies the page
limit,
and a long version containing omitted details (usually in an appendix).
This way has the benefit that one can simply read the long version, as it
usually contains the short version in its entirely.</p><p>To achieve this (with a single <code>.tex</code> file), we use the package
<a href=https://ctan.org/pkg/etoolbox>etoolbox</a>,
which provides ways to perform conditional compilation.</p><p>First, load the package:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\usepackage</span>{etoolbox}
</span></span></code></pre></div><p>Then, define a new &ldquo;toggle&rdquo; (i.e. a boolean switch) called <code>full</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\newtoggle</span>{full}
</span></span></code></pre></div><p>After that, you can do some conditional compilation using the command
<code>\iftoggle</code>, for example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\iftoggle</span>{full}{<span style=color:#75715e>%
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    See <span style=color:#66d9ef>\cref</span>{sec:proof} for the proof.
</span></span><span style=display:flex><span>}{<span style=color:#75715e>%
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    See the full version for the proof.
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=main-and-appendix-separately>Main and Appendix Separately</h2><p>Rarely, the main document and the appendix needs to be submitted separately
(e.g. when the paper is not allowed to contain an appendix).
While one can create a long version of the paper,
and use an external program to split the PDF into two parts,
this has the disadvantage that hyperlinks are likely to be broken.</p><p>To achieve this, we use two <code>.tex</code> files,
one called <code>main.tex</code> and one called <code>supplement.tex</code>,
and utilise the package <a href=https://ctan.org/pkg/xr-hyper>xr-hyper</a> for
cross-file cross-references and hyperlinks.</p><p>IMPORTANT: You must load the package <code>xr-hyper</code> before loading <code>hyperref</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\usepackage</span>{xr-hyper}
</span></span><span style=display:flex><span><span style=color:#66d9ef>\usepackage</span>{hyperref}
</span></span></code></pre></div><p>In <code>main.tex</code>, you can use the following command to load the references in
<code>supplement.tex</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\externaldocument</span>{supplement}
</span></span></code></pre></div><p>If you want all labels in <code>supplement.tex</code> to be prefixed, e.g. to prevent
duplicate labels, then you can add the prefix <code>S-</code> in an optional argument:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\externaldocument</span><span style=color:#a6e22e>[S-]</span>{supplement}
</span></span></code></pre></div><p>Similarly, in <code>supplement.tex</code>, load the references defined in <code>main.tex</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\externaldocument</span>{main}
</span></span></code></pre></div><p>When compiling your documents, you would first need to compile <code>main.tex</code> a few
times, and then compile <code>supplement.tex</code> a few times, and then compile
<code>main.tex</code> again (so that it can use the references defined in <code>supplement.tex</code>).</p><p>You can use the your favourite references commands as usual, and expect them to
work (although cross-file hyperlink would not work).</p><p>If you use <code>latexmk</code>, you may need to add additional rules in <code>latexmkrc</code> file,
or use the technique in this <a href=https://www.overleaf.com/learn/how-to/Cross_referencing_with_the_xr_package_in_Overleaf>Overleaf guide</a>.</p><h2 id=numbering-figurestables-continuously>Numbering Figures/Tables Continuously</h2><p>If you have figures in the supplement file, and you wish to continue the
numbering of figures from the main file.
You can always reset the figure counter by hand, but you&rsquo;d need to change the
counter when you add and remove figures.</p><p>At the end of the main file, add the following lines:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\makeatletter</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>\protected</span>@write<span style=color:#66d9ef>\@</span>auxout{}{<span style=color:#66d9ef>\string\newlabel</span>{lastfigure}{{<span style=color:#66d9ef>\thefigure</span>}{<span style=color:#66d9ef>\thepage</span>}{}{}{}}}
</span></span><span style=display:flex><span><span style=color:#66d9ef>\protected</span>@write<span style=color:#66d9ef>\@</span>auxout{}{<span style=color:#66d9ef>\string\newlabel</span>{lasttable}{{<span style=color:#66d9ef>\thetable</span>}{<span style=color:#66d9ef>\thepage</span>}{}{}{}}}
</span></span></code></pre></div><p>By doing so, we have defined two labels: <code>lastfigure</code> and <code>lasttable</code>, which
contains the value of the figure and table counter respectively.</p><p>At the beginning of the supplement file, add the following lines, to reset the
counters to the &ldquo;last&rdquo; figure and table respectively:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=display:flex><span><span style=color:#66d9ef>\setcounterref</span>{figure}{lastfigure}
</span></span><span style=display:flex><span><span style=color:#66d9ef>\setcounterref</span>{table}{lasttable}
</span></span></code></pre></div><p>Note: if you included a prefix for references in the <code>main.tex</code> file, you&rsquo;d
need to add that prefix before <code>lastfigure</code> and <code>lasttable</code>.</p><h1 id=references>References</h1><ul><li><a href=https://tex.stackexchange.com/questions/41539/does-hyperref-work-between-two-files>https://tex.stackexchange.com/questions/41539/does-hyperref-work-between-two-files</a></li><li><a href=https://www.overleaf.com/learn/how-to/Cross_referencing_with_the_xr_package_in_Overleaf>https://www.overleaf.com/learn/how-to/Cross_referencing_with_the_xr_package_in_Overleaf</a></li></ul></section><div class=post-tags></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/fangyi-zhou rel=me title=GitHub><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github"/></svg></a><a class=border></a></div><div class=footer-info>2026 Fangyi Zhou Â© CC BY 4.0 | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer></div></body></html>